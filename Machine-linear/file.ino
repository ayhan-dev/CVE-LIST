#include <AFMotor.h> 
#define LEFT_SIDE A0 
#define RIGHT_SIDE A1 
 
//Version -2- 
//GitHub.com/ayhan-dev/Machine-linear 

int speed1 = 130; 
int speed2 = 210; 
bool left_sensor, right_sensor;
AF_DCMotor motor1(1, MOTOR12_1KHZ); 
AF_DCMotor motor2(2, MOTOR12_1KHZ); 
AF_DCMotor motor3(3, MOTOR34_1KHZ); 
AF_DCMotor motor4(4, MOTOR34_1KHZ); 

void setMotorSpeed(int speed) {
  motor1.setSpeed(speed);
  motor2.setSpeed(speed);
  motor3.setSpeed(speed);
  motor4.setSpeed(speed);
}

enum MotorDirection {
  FORWARD,
  BACKWARD,
  RELEASE
};

void setMotorDirection(MotorDirection direction) {
  motor1.run(direction);
  motor2.run(direction);
  motor3.run(direction);
  motor4.run(direction);
}

void setup() { 
  pinMode(LEFT_SIDE, INPUT); 
  pinMode(RIGHT_SIDE, INPUT); 
  Serial.begin(9600); 
} 
 
void loop() { 
  left_sensor = digitalRead(LEFT_SIDE);
  right_sensor = digitalRead(RIGHT_SIDE);

  Serial.println(right_sensor); 
  Serial.println(left_sensor); 

  switch (left_sensor + right_sensor * 2) {
    case 0: 
      setMotorDirection(FORWARD);
      setMotorSpeed(speed1);
      break;
    case 1: 
      setMotorDirection(BACKWARD);
      setMotorSpeed(speed2);
      break;
    case 2: 
      setMotorDirection(BACKWARD);
      setMotorSpeed(speed2);
      break;
    case 3: 
      setMotorDirection(RELEASE);
      setMotorSpeed(0);
      break;
  }
}
