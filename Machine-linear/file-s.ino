#include <AFMotor.h>
#define LEFT_SIDE A0
#define RIGHT_SIDE A1

//Version -0-
//GitHub.com/ayhan-dev/Machine-linear

int speed1 = 130;
int speed2 = 210;
AF_DCMotor motor1(1, MOTOR12_1KHZ);
AF_DCMotor motor2(2, MOTOR12_1KHZ);
AF_DCMotor motor3(3, MOTOR34_1KHZ);
AF_DCMotor motor4(4, MOTOR34_1KHZ);


void setup() {
  pinMode(LEFT_SIDE, INPUT);
  pinMode(RIGHT_SIDE, INPUT);
  pinMode(A2, OUTPUT);
  pinMode(A3, OUTPUT);
  pinMode(A4, OUTPUT);
  pinMode(A5, OUTPUT);
  Serial.begin(9600);
}

void loop() {

  Serial.println(digitalRead(RIGHT_SIDE));
  Serial.println(digitalRead(LEFT_SIDE));

  if(digitalRead(LEFT_SIDE) == 0 && digitalRead(RIGHT_SIDE) == 0){

    motor1.run(FORWARD);
    motor1.setSpeed(speed1);
    motor2.run(FORWARD);
    motor2.setSpeed(speed1);
    motor3.run(FORWARD);
    motor3.setSpeed(speed1);
    motor4.run(FORWARD);
    motor4.setSpeed(speed1);

    digitalWrite(A2, HIGH);
    digitalWrite(A3, HIGH);
    digitalWrite(A4, HIGH);
    digitalWrite(A5, HIGH);
  }

  else if (!digitalRead(LEFT_SIDE) == 0 && !digitalRead(RIGHT_SIDE) == 0) {

    motor1.run(RELEASE);
    motor1.setSpeed(0);
    motor2.run(RELEASE);
    motor2.setSpeed(0);
    motor3.run(RELEASE);
    motor3.setSpeed(0);
    motor4.run(RELEASE);
    motor4.setSpeed(0);

    digitalWrite(A2, HIGH);
    digitalWrite(A3, HIGH);
    digitalWrite(A4, HIGH);
    digitalWrite(A5, HIGH);
  }



  else if (!digitalRead(LEFT_SIDE) == 0 && digitalRead(RIGHT_SIDE) == 0) {

    motor1.run(BACKWARD);
    motor1.setSpeed(speed2);
    motor2.run(BACKWARD);
    motor2.setSpeed(speed2);
    motor3.run(FORWARD);
    motor3.setSpeed(speed2);
    motor4.run(FORWARD);
    motor4.setSpeed(speed2);

    digitalWrite(A2, HIGH);
    digitalWrite(A3, HIGH);
    digitalWrite(A4, HIGH);
    digitalWrite(A5, HIGH);

  }

  else if (digitalRead(LEFT_SIDE) == 0 && !analogRead(RIGHT_SIDE) == 0){ 

    motor1.run(FORWARD);
    motor1.setSpeed(speed2);
    motor2.run(FORWARD);
    motor2.setSpeed(speed2);
    motor3.run(BACKWARD);
    motor3.setSpeed(speed2);
    motor4.run(BACKWARD);
    motor4.setSpeed(speed2);

    digitalWrite(A2, HIGH);
    digitalWrite(A3, HIGH);
    digitalWrite(A4, HIGH);
    digitalWrite(A5, HIGH);

  }}
